<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">

<head>
    <title>选课系统</title>
    <meta http-equiv="Content-Type" content=" text/html" charset="UTF-8"/>
    <link rel="shortcut icon" href="../static/images/favicon.ico">
    <link rel="stylesheet" href="css/community.css"/>
    <link rel="stylesheet" href="css/bootstrap.min.css"/>
    <link rel="stylesheet" href="css/bootstrap-theme.min.css"/>
    <script src="js/jquery-3.4.1.js" type="application/javascript"></script>
    <script src="js/bootstrap.min.js" type="application/javascript"></script>
</head>

<body>
<nav class="navbar navbar-default">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                    data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                <span class="sr-only">选课系统</span>
            </button>
            <a class="navbar-brand" href="/">选课系统</a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li th:if="${user!=null}">
                    <span th:text="${user.name + user.role + ',您好'}"></span>
                </li>
                <li><a href="/login">返回登录</a></li>
            </ul>
        </div>
    </div>
</nav>
<div class="main">
    <div class="container-fluid">
        <div class="row">
            <div class=" col-lg-6 col-md-12 col-sm-12 col-xs-12">
                <h2>
                    <a href="/"><img src="images/favicon.ico" class="img-logo img-responsive"
                                     alt="Responsive image"></a>
                    全部课程</h2>
                <hr>
                <form th:object="${newCourse}" action="/update" method="POST">
                    <div class="form-group ">
                        <label for="id">课程代码 (最高4位整型数字) :</label>
                        <input type="text" class="form-control " th:field="*{id}"
                               name="id" id="id" style="width: 500px"
                               placeholder="课程代码,例:0001">
                    </div>
                    <div class="form-group ">
                        <label for="courseName">课程名称 (20字以内) :</label>
                        <input type="courseName" class="form-control " th:field="*{courseName}"
                               name="courseName" id="courseName" style="width: 500px"
                               placeholder="课程名称......">
                    </div>
                    <div class="form-group">
                        <label for="teacherId">授课老师代码 (必填) :</label>
                        <textarea placeholder="根据右侧栏填写老师编号" name="teacherId"
                                  th:field="*{teacherId}"
                                  id="teacherId"
                                  cols="30"
                                  class="form-control"
                                  rows="2"></textarea>
                    </div>
                    <div class="form-group ">
                        <label for="classHour">学时 (最高4位整型数字) :</label>
                        <input type="classHour" class="form-control " th:field="*{classHour}"
                               name="classHour" id="classHour" style="width: 500px"
                               placeholder="学时,例:36">
                        <label for="credit">学分 (最高4位整型数字) :</label>
                        <input type="credit" class="form-control " th:field="*{credit}"
                               name="credit" id="credit" style="width: 500px"
                               placeholder="学分......">
                        <label for="time">开课时间 :</label>
                        <input type="time" class="form-control " th:field="*{time}"
                               name="time" id="time" style="width: 500px"
                               placeholder="开课时间......">
                        <label for="priviousc">先行课节数 (最高4位整型数字) :</label>
                        <input type="priviousc" class="form-control " th:field="*{priviousc}"
                               name="priviousc" id="priviousc" style="width: 500px"
                               placeholder="先行课......">
                    </div>
                    <div class="form-group">
                        <label for="place">上课地点 (20字以内):</label>
                        <input type="text" class="form-control"
                               name="place" id="place" th:field="*{place}" style="width: 300px"
                               placeholder="上课地点,例:教一101">

                    </div>
                    <div class="form-group ">
                        <label for="total">总人数 (最高4位整型数字) :</label>
                        <input type="total" class="form-control " th:field="*{total}"
                               name="total" id="total" style="width: 500px"
                               placeholder="总人数......">
                    </div>
                    <div class="container-fluid main">
                        <div class="row">
                        <span class="alert alert-danger col-lg-9 col-md-12 col-sm-12 col-xs-12"
                              role="alert" autocapitalize=""
                              th:if="${loginError!=null}" th:text="${loginError}">
                        </span>
                            <button type="submit" class="btn btn-success btn-publish">发布</button>
                        </div>
                    </div>
                </form>
            </div>
            <div class=" col-lg-3 col-md-12 hcol-sm-12 col-xs-12">
                <h1>全部课程</h1>
                <hr>
                <div class="media" th:if="${courses !=null}" th:each="course: ${courses}">
                    <div class="media-body">
                        <h4 class="media-heading" th:text="${course.courseName}">
                        </h4>
                        <strong id="courseId" th:text="'课程代码:'+${course.id}"
                                class="publish-desc"></strong><br>
                        <span>
                            <span th:text="'老师:'+${course.name}"></span>~
                            <span th:text="'地点:'+${course.place}"></span>~
                            <span th:text="'学时:'+${course.classHour}"></span>~
                            <span th:text="'学分:'+${course.credit}"></span>~
                            <span th:text="'开课时间:'+
                            ${#dates.format(course.time, 'yyyy-MM-dd HH:mm')}"></span>
                            <textarea th:text="${course.target}" readonly name="target"
                                      cols="20"
                                      rows="1"></textarea>
                         <a  id="checkDelete"
                             th:href="@{/delete(account=${user.id},course=${course.id})}">
                             <button type="submit" formmethod="post">删除该课程</button>
                        </a>
                        </span>
                    </div>
                </div>
            </div>
            <div class=" col-lg-3 col-md-12 hcol-sm-12 col-xs-12">
                <h1>全部老师</h1>
                <hr>
                <div class="media" th:if="${teachers !=null}" th:each="teacher: ${teachers}">
                    <div class="media-body">
                        <h4 class="media-heading" th:text="${teacher.name}">
                        </h4>
                        <strong th:text="'老师代码:'+${teacher.id}"
                                class="publish-desc"></strong><br>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
<script src="js/jquery-3.4.1.min.js"></script>
<script>
    $(document).ready(function(){
        $("#checkDelete").click(function(){
            var str = $("#courseId").value();
           alert('确定删除'+str+"吗?");
        });

    });
</script>
</html>